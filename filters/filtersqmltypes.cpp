#include "filter.h"
#include "valuefilter.h"
#include "indexfilter.h"
#include "regexpfilter.h"
#include "rangefilter.h"
#include "expressionfilter.h"
#include "anyoffilter.h"
#include "alloffilter.h"
#include <QQmlEngine>
#include <QCoreApplication>

static bool wasRegistered = false;

namespace qqsfpm {

void registerFiltersTypes() {
    if(!wasRegistered) {
        qmlRegisterUncreatableType<Filter>("SortFilterProxyModel", 0, 2, "Filter", "Filter is an abstract class");
        qmlRegisterType<ValueFilter>("SortFilterProxyModel", 0, 2, "ValueFilter");
        qmlRegisterType<IndexFilter>("SortFilterProxyModel", 0, 2, "IndexFilter");
        qmlRegisterType<RegExpFilter>("SortFilterProxyModel", 0, 2, "RegExpFilter");
        qmlRegisterType<RangeFilter>("SortFilterProxyModel", 0, 2, "RangeFilter");
        qmlRegisterType<ExpressionFilter>("SortFilterProxyModel", 0, 2, "ExpressionFilter");
        qmlRegisterType<AnyOfFilter>("SortFilterProxyModel", 0, 2, "AnyOf");
        qmlRegisterType<AllOfFilter>("SortFilterProxyModel", 0, 2, "AllOf");
        qmlRegisterUncreatableType<FilterContainerAttached>("SortFilterProxyModel", 0, 2, "FilterContainer", "FilterContainer can only be used as an attaching type");
        wasRegistered = true;
    }
}

Q_COREAPP_STARTUP_FUNCTION(registerFiltersTypes)

}
